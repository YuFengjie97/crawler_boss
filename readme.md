# crawler boss

> boss直聘爬虫,一开始是想直接axios模拟前端请求,但是他里面加了防爬的token.太鸡巴麻烦,么得调试.

> 机缘巧合下得知selenium,还有js的版本.这个本来是给高级点点点工程师做的自动化测试,然后查了查,可以做爬虫,开搞

> 流程:每个url页面都有搜索词,地区,经验,学历这种对用boss列表搜索框的参数.就根据这个去每个关键情况新开页面爬取.因为列表页和切页都是ajax异步加载,所以没必要重新加载页面.selenium找到下一页按钮,模拟点击来翻页

> 我想爬工作的详情页,因为可以看到工作详情里隐藏起来的东西,比如:劳务派遣,人力,驻场,985,211,这种外包吸血或是学历歧视的关键词.还有boss的活跃时间.这样最后在dev用echart就可以统计现在到底有多少外包公司,到底有多少吸血的,到底有多少学历歧视的

> 加了随机延时也没用,ip被封了,要登录,我天真的以为登录后,可以一直爬,无非是弹几个弹框遮挡关键dom元素(先给隐藏掉,就可以用selenium继续获取关键元素了).登录之后,爬了几个关键词,账号给封了.

> 于是,先帝创业未半,而中道崩殂.ip封是一天,账号封,不知道过多久解封.反正也找不到工作.哦呼,真是完蛋

> 反思一下,为什么用selenium这种唤起浏览器的测试工具都会被检测出来.
1. boss直聘会记录用户鼠标行为,然后发送服务端,判断是不是机器人
2. 周期请求数量判断,如果一段时间请求数量太多,或者连续请求,会被识别出来,我被封之前,每个请求的动作都会有3-5s的sleep.太长了,我就接受不了了,太鸡巴慢了
3. selenium给加随机滚动页面,随机鼠标点击,太麻烦,而且好像会导致之前获取到的webElement引用失效.唉~~~~~,好麻烦,好不想做啊.

> 后期还想着把爬到的数据部署到githubPage上,全他妈完了,美好的愿望落空

### 爬取
```
pnpm run crawler
```

## 先帝创业未半,而中道崩殂,账号和ip都被封了
### 占比分析(未完成)
```
pnpm run dev
```